# 一、抽象与工作量的关系 #
## 1、什么是抽象 ##
> 所谓"抽象化"，就是指从具体问题中，提取出具有共性的模式，再使用通用的解决方法加以处理。开发软件的时候，一方面，我们总是希望使用别人已经写好的代码，另一方面，又希望自己写的代码尽可能重用，以求减少工作量。要做到这两个目标，这需要"抽象化"。

这是我通过“软件工程”关键字随手搜的一篇文章的定义，这个定义我是认同的。所谓抽象，是通过对重复事物提取共通点，通过简单概念来表达繁多的事物。比如这篇文章中举例的网格，图形学上通过网格表示三维物体就是一种抽象。

> 抽象化"应该遵循的三个原则：1、DRY原则，Don't repeat yourself 的缩写，意思是"不要重复自己"；2、YAGNI原则，You aren't gonna need it 的缩写，意思是"你不会需要它"；3、Rule Of Three原则，称为"三次原则"，指的是当某个功能第三次出现时，才进行"抽象化"。

这三个原则用我们的话来说，就是我们不应该重复造轮子，但是同时避免过度设计。这两者的平衡时常会折磨我们程序员。通常情况下我们会陷入以下误区：

### 1）只复制粘贴不考虑共性 ###

看到公共库或者开源库里面有相同的功能，复制粘贴过来，稍微改一下。既不会影响其他同学，也不用考虑兼容问题。相当简单快速。这种模式可能导致的问题是：
	
- 类似需求每次都需要重新开发、测试、维护，反复投入人力成本，服务质量难以保证
- 修改或者调整公共逻辑需要同步修改多份代码，工作量较大且容易遗漏

### 2）盲目抽象不考虑复用性 ###

每次开发都力求极高的通用性和扩展性，凡事都要抽象。这种模式可能导致的问题是：
	
- 抽象完全没有考虑过复用性，提供的公共库跟具体需求耦合过高，难以复用，污染公共库。
- 一次性需求，完全没必要考虑复用性，浪费时间精力
- 需求变化方向与之前的预期完全不符合，之前抽象的逻辑不仅丝毫派不上用场而且还因为抽象增加了维护的复杂度。

我们应该如何避免这些误区？
1、公共代码的提取使用第二次原则，有两个及以上模块需要使用的代码需要抽象。
2、方案的设计上需要兼容可预期的变化，比如一些数字的变动、明确的产品规划、相同模式的其他用途等，不考虑过度的扩展，比如产品未确认的玩法的变更、未知的来源等。
3、逻辑的抽象尽可能与具体需求解耦，比如一些默认的规则、参数，尽量将现有的能力拆解成众多的小功能，可以通过组合完成更多的需求。

## 2、抽象不一定会减少工作量 ##

认识了什么是抽象，那么抽象跟工作量是什么关系呢？好的抽象一定会减少工作量吗？<br>
为了说明这个问题，我特地在KM上找了下讲解通用性的帖子。其中reedliu同学在13年发表的教导新人的帖子讲的比较好。

> 上面的翻译型设计可以完成工作吗？当然可以！而且完成的非常快，初期会给人非常良好的感觉。但是在网游这样一个需求频繁变更和扩展的领域，很快大家就会遇到以下问题：<br>
> 1.因为没有任何代码复用，策划提的每一个新需求，都至少需要花1-2天来实现；<br>
> 2.因为一些基础逻辑在代码中每个地方都重写了一遍，导致对于某些很小的修改，都需要把系统中所有模块都修改一遍，工作量很大，而且容易错，需要通读代码，仔细寻找才能知道自己要改哪些地方；<br>
> 3.因为没有任何代码复用，新代码的正确性没有任何保证，如果换个人维护，则更容易出问题；<br>
> 4.整个系统没有框架，任何人接手代码，都必须通读所有代码才能理解代码全貌。<br>

在帖子中，reedliu认为直接翻译策划（我们这边主要是产品和运营）的需求设计出来的方案是程序员的下限，这种设计毫无复用可言，但是完成的速度相当快。可见，抽象的目的更多的考虑可维护性，减少工作量并不是抽象的主要目的。如果一定要从工作量考虑，复制粘贴就是瞬间的事情。当然抽象良好的模块在一定的场景下是可以有效减少工作量的。在长期的维护与需求开发中，功能的抽象可能会经历以下阶段：


# 二、抽象的重要性和必要性 #
## 1、减少重复造轮子 ##
## 2、已经验证过的，减少风险 ##
# 三、企鹅FM运营活动规范化的思考 #
##1、现状##
##2、问题##
##3、思考##
# 四、企鹅FM运营活动后续优化 #
## 1、实现企鹅FM自己的运营平台？##
## 2、黄钻运营平台提供后台接口？##
# 五、参考 #
- http://www.kuqin.com/software-engineer/20130408/334100.html
- 《The Pragmatic Programmer》
- 《极限编程》
- 《Refactoring》
- http://km.oa.com/group/1667/articles/show/165040?kmref=search&from_page=2&no=7
